# Лабораторная работа №5

## Тема: "***<u>Итераторы и аллокаторы</u>***"

### Цель:

- Изучение устройства коллекций в стандартной библиотеке 

- Получение навыков в использовании концепции «итератор» 

- Получение навыков в использовании концепции «аллокатор»

### Порядок выполнения работы:

- Ознакомиться с теоретическим материалом

- Реализовать задание в соответствии с вариантом (Вариант 15)

- Написать Unit-тесты с использованием Google Test

- Отчитаться по выполненной работе путём демонстрации работающей программы на тестовых наборах данных (как подготовленных самостоятельно, так и предложенных преподавателем) и ответов на вопросы преподавателя (как из числа контрольных, так и по реализации программы).

### Требования к программе:

- Реализовать наследник `std::pmr::memory_resource` который реализует стратегию работы с памятью согласно варианта задания. 

- memory_resource должен позволять периспользовать освобождаемую память (освобожденную ранее с помощью `do_deallocate`) 

- memory_resource при уничтожении должен подчищать всю неосвобожденную ранее память 

- Реализовать шаблонный контейнер согласно варианту задания, который использует созданный  `memory_resource` через шаблон `std::pmr::polymorphic_allocator`. 

- Реализовать итератор к созданному контейнеру. Итератор должен соответствовать `std::forward_iterator_tag`. 

- Создать код, демонстрирующий работ контейнера с простыми (`int`) и сложными типами (`struct` с несколькими полями)

## Условие задачи:

###### Создать программу, которая реализует следующую стратегию работы `memory_resource`

| Контейнер| Стратегия `memory_resource`                                                                                   |
|:---------|:-------------------------------------------------------------------------------------------------------------:|
| Очередь  | Фиксированный блок памяти (выделяется один раз), информация о выделенных блоках памяти хранится в `std::map`  |

---

## Структура проекта

```

```
lab5/
├── src/
│   ├── fixed_memory_resource.h   
│   ├── fixed_memory_resource.cpp    
│   └── queue.h                 
├── tests/
│   └── test_lab05.cpp            
├── main.cpp                       
├── CMakeLists.txt                                       
```
```

## Сборка и запуск проекта

**Сборка:**

```bash
# Создание директории для сборки
mkdir build
cd build

# Конфигурация проекта
cmake ..

# Сборка проекта
cmake --build .
```

**Запуск:**

```bash
./lab05_demo
```

## Запуск тестов:

```bash
# Из директории build/tasks/lab5
./lab05_tests
